# Unpacker
Automatic Unpacking Machine

Upper_PC：上位机，负责人机交互显示部分。  
基于Knico Green系列7寸触摸屏，使用Kinco Dtools工具进行界面组态编辑。  
  
Lower_PC：下位机，负责底层逻辑处理部分。  
基于VMMORE PC4M系列PAC控制器，使用Codesys V3.5.16工具进行程序逻辑编辑。  
  
Upper_PC和Lower_PC之间，通过Modbus TCP协议进行数据传输。  

关于功能逻辑：被控机构主要为一个3轴机械臂和一个2轴同步带，5个轴均为EtherCAT伺服从站，均装配增量型编码器。额外的，一个16入16出的数字IO模块，用于各种传感器和工具/状态的接口。  
机械臂部分，由本体2轴+附加1轴组成，均使用CSP模式进行运动控制。涉及到的运动方式包括(1)关节空间下的单轴点动，(2)笛卡尔空间下的单轴点动，(3)笛卡尔空间下的两点直线运动，(4)笛卡尔空间下的多点折线+圆弧过渡运动。由于使用了增量编码器，故需要借助外部零位传感器实现各轴回零，回零步骤(1)高速，正转，遇到零位传感器信号时减速停止；(2)低速，反转，遇到零位传感器信号时减速停止；(3)高速，以用户设定的各轴回零方向，运动用户设定的零位偏移位移。  
同步带部分，自动状态使用CSV模式进行运动控制，手动状态使用CSP模式进行运动控制。CSP模式下，仅需要实现点动运动，两轴不分主次，任一轴被触发，两轴均需同步执行点动。CSV模式下，仅需要实现单向变速运动。  
所有运动功能，均通过自定义编程实现规划、插补与驱动，未使用Codesys SoftMotion库和CiA402轴标准，因此可不受Codesys License约束。  
